{"changed":true,"filter":false,"title":"charts.html","tooltip":"/statistics/templates/charts.html","value":"{% extends \"base.html\" %}\n{% block title %} Statistics {% endblock %} \n{% block content %}\n    <div class=\"row\">\n        <div class=\"col-xs-12 col-md-6\">\n            <div class=\"card\">\n                <div class=\"card-header\">\n                    <div class=\"col-12 text-left\">\n                        <span><i class=\"fas fa-bug fa-lg page-icon\"></i>HIGHEST VOTED BUG</span>\n                    </div>\n                </div>\n                <div class=\"card-body\">\n                    <div class=\"row\">\n                        <div class=\"col-6 text-center\">\n                            <p><strong>TITLE</strong></p>\n                            <blockquote class=\"blockquote\">\n                              <p class=\"mb-0\">{{ highest_voted_bug.title }}</p>\n                              <footer class=\"blockquote-footer\"><cite title=\"Source Title\">{{ highest_voted_bug.creator }}</cite></footer>\n                            </blockquote>\n                        </div>\n                        <div class=\"col-6 text-center\">\n                            <p><strong>VOTES</strong></p>\n                            <p class=\"mb-0\">{{ highest_voted_bug.upvotes }}</p>\n                        </div>\n                    </div>\n                    \n                </div>\n            </div>\n        </div>\n        <div class=\"col-xs-12 col-md-6\">\n            <div class=\"card\">\n                <div class=\"card-header\">\n                    <div class=\"col-12 text-left\">\n                        <span><i class=\"fas fa-lightbulb fa-lg page-icon\"></i>HIGHEST VOTED FEATURE REQUEST</span>\n                    </div>\n                </div>\n                <div class=\"card-body\">\n                    <div class=\"row\">\n                        <div class=\"col-6 text-center\">\n                            <p><strong>TITLE</strong></p>\n                            <blockquote class=\"blockquote\">\n                              <p class=\"mb-0\">{{ highest_voted_feature_request.title }}</p>\n                              <footer class=\"blockquote-footer\"><cite title=\"Source Title\">{{ highest_voted_feature_request.creator }}</cite></footer>\n                            </blockquote>\n                        </div>\n                        <div class=\"col-6 text-center\">\n                            <p><strong>VOTES</strong></p>\n                            <p class=\"mb-0\">{{ highest_voted_feature_request.upvotes }}</p>\n                        </div>\n                    </div>\n                    \n                </div>\n            </div>\n        </div>\n        <div class=\"col-xs-12 col-md-6\">\n            <div class=\"card\">\n                <div class=\"card-header\">\n                    <div class=\"col-12 text-left\">\n                        <span><i class=\"fas fa-chart-bar fa-lg page-icon\"></i>TOTAL TICKETS RAISED</span>\n                    </div>\n                </div>\n                <div class=\"card-body\">\n                    <canvas id=\"totalTickets\" width=\"400\" height=\"400\"></canvas>\n                </div>\n            </div>\n        </div>\n        {% if user.is_authenticated %}\n        <div class=\"col-xs-12 col-md-6\">\n            <div class=\"card\">\n                <div class=\"card-header\">\n                    <div class=\"col-12 text-left\">\n                        <span><i class=\"fas fa-user-circle fa-lg page-icon\"></i>TICKETS YOU RAISED</span>\n                    </div>\n                </div>\n                <div class=\"card-body\">\n                    <canvas id=\"userTickets\" width=\"400\" height=\"400\"></canvas>\n                </div>\n            </div>\n        </div>\n        {% endif %}\n    <!--</div>-->\n    <!--<div class=\"row\">-->\n        <div class=\"col-xs-12 col-md-6\">\n            <div class=\"card\">\n                <div class=\"card-header\">\n                    <div class=\"col-12 text-left\">\n                        <span><i class=\"fas fa-tasks fa-lg page-icon\"></i>TOTAL TICKETS BY STATUS</span>\n                    </div>\n                </div>\n                <div class=\"card-body\">\n                    <canvas id=\"statusTickets\" width=\"400\" height=\"400\"></canvas>\n                </div>\n            </div>\n        </div>\n    </div>\n\n{% endblock %} \n{% block jquery %}\n<script>\n    $(document).ready(function(){\n        \n        var total_bugs = {{ total_bugs }}\n        var total_feature_requests = {{ total_feature_requests }}\n        var user_bugs = {{ user_bugs }}\n        var user_feature_requests = {{ user_feature_requests }}\n        var open_bugs = {{ open_bugs }}\n        var in_progress_bugs = {{ in_progress_bugs }}\n        var completed_bugs = {{ completed_bugs }}\n        var open_feature_requests = {{ open_feature_requests }}\n        var in_progress_feature_requests = {{ in_progress_feature_requests }}\n        var completed_feature_requests = {{ completed_feature_requests }}\n        \n        new Chart(document.getElementById(\"totalTickets\"), {\n            type: 'doughnut',\n            data: {\n                labels: ['Bugs', 'Feature Requests'],\n                datasets: [{\n                    label: 'Number of tickets',\n                    data: [total_bugs, total_feature_requests],\n                    backgroundColor: [\n                        'magenta',\n                        '#2E353D',\n                    ],\n                    borderColor: [\n                        'magenta',\n                        '#2E353D',\n                    ],\n                    borderWidth: 1\n                }]\n            }\n        });\n        \n        new Chart(document.getElementById(\"statusTickets\"), {\n            type: 'bar',\n            data: {\n                labels: [\"BACKLOG\", \"IN PROGRESS\", \"COMPLETE\"],\n                datasets: [{\n                    label: \"Bugs\",\n                    backgroundColor: \"magenta\",\n                    data: [open_bugs, in_progress_bugs, completed_bugs]\n                }, {\n                    label: \"Feature Requests\",\n                    backgroundColor: \"#2E353D\",\n                    data: [open_feature_requests, in_progress_feature_requests, completed_feature_requests]\n                }]\n            },\n            options: {\n                scales: {\n                    yAxes: [{\n                        ticks: {\n                            beginAtZero: true,\n                            min: 0\n                        }\n                    }]\n                }\n            }\n        });\n        \n        new Chart(document.getElementById(\"userTickets\"), {\n            type: 'bar',\n            data: {\n                labels: [\"TICKETS\"],\n                datasets: [{\n                    label: \"Bugs\",\n                    backgroundColor: \"magenta\",\n                    data: [user_bugs]\n                }, {\n                    label: \"Feature Requests\",\n                    backgroundColor: \"#2E353D\",\n                    data: [user_feature_requests]\n                }]\n            },\n            options: {\n                scales: {\n                    yAxes: [{\n                        ticks: {\n                            beginAtZero: true,\n                            min: 0\n                        }\n                    }]\n                }\n            }\n        });\n    })\n</script>\n{% endblock %}","undoManager":{"mark":-2,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":63,"column":0},"action":"remove","lines":["{% extends 'base.html' %}","{% load bootstrap_tags %}","{% load static from staticfiles %}","","{% block content %}","<div class=\"d-flex flex-column justify-content-center\">","<h3 class=\"p-2\">Please Click The Button Below To Continue Payment</h3>","<p class=\"p-2\">By clicking the button below, you will be presented with a secure payment portal provided by <a target=\"_blank\" href=\"https://stripe.com/\">Stripe</a>.","Once the payment of €30 has been completed, you will be redirected back to the 'Create Ticket' page to submit your feature request.</p>","<script src=\"https://checkout.stripe.com/checkout.js\"></script>","","    <form class=\"p-2\" id=\"payment-form\">","        {% csrf_token %}","        <button class=\"btn btn-primary\" id=\"customButton\">Purchase</button>","    </form>","</div>","","<script>","var handler = StripeCheckout.configure({"," key: \"pk_test_DwsyZTSMPGgLNjtvb2yTYnjJ\",","  locale: 'auto',","  image: \"{{ MEDIA_URL }}logo.png\",","  name: \"Unicorn Attractor\",","  description: \"€10 for one new Feature\",","  panelLabel: \"Click to make payment\",","  allowRememberMe: false,","  token: function(token) {","    // Prevent user from leaving page","    window.onbeforeunload = function() {","            return \"\";","        }","    // Create a form to submit the results to the backend","    var form = document.getElementById(\"payment-form\");","    form.setAttribute('method', \"POST\");","    form.setAttribute('action', \"/checkout\");","    // Add the token ID as a hidden field","    var inputToken = document.createElement(\"input\");","    inputToken.setAttribute('type', \"hidden\");","    inputToken.setAttribute('name', \"stripeToken\");","    inputToken.setAttribute('value', token.id);","    form.appendChild(inputToken);","    // Add the email as a hidden field","    var inputEmail = document.createElement(\"input\");","    inputEmail.setAttribute('type', \"hidden\");","    inputEmail.setAttribute('name', \"stripeEmail\");","    inputEmail.setAttribute('value', token.email);","    form.appendChild(inputEmail);","        // Submit the form and redirect","    document.body.appendChild(form);","    document.forms[\"payment-form\"].submit()","  }","});","document.getElementById('customButton').addEventListener('click', function(e) {","  handler.open();","  e.preventDefault();","});","// Close Checkout on page navigation:","window.addEventListener('popstate', function() {","  handler.close();","  ","});","</script>","{% endblock %}",""],"id":2},{"start":{"row":0,"column":0},"end":{"row":185,"column":14},"action":"insert","lines":["{% extends \"base.html\" %}","{% block title %} Statistics {% endblock %} ","{% block content %}","    <div class=\"row\">","        <div class=\"col-xs-12 col-md-6\">","            <div class=\"card\">","                <div class=\"card-header\">","                    <div class=\"col-12 text-left\">","                        <span><i class=\"fas fa-bug fa-lg page-icon\"></i>HIGHEST VOTED BUG</span>","                    </div>","                </div>","                <div class=\"card-body\">","                    <div class=\"row\">","                        <div class=\"col-6 text-center\">","                            <p><strong>TITLE</strong></p>","                            <blockquote class=\"blockquote\">","                              <p class=\"mb-0\">{{ highest_voted_bug.title }}</p>","                              <footer class=\"blockquote-footer\"><cite title=\"Source Title\">{{ highest_voted_bug.creator }}</cite></footer>","                            </blockquote>","                        </div>","                        <div class=\"col-6 text-center\">","                            <p><strong>VOTES</strong></p>","                            <p class=\"mb-0\">{{ highest_voted_bug.upvotes }}</p>","                        </div>","                    </div>","                    ","                </div>","            </div>","        </div>","        <div class=\"col-xs-12 col-md-6\">","            <div class=\"card\">","                <div class=\"card-header\">","                    <div class=\"col-12 text-left\">","                        <span><i class=\"fas fa-lightbulb fa-lg page-icon\"></i>HIGHEST VOTED FEATURE REQUEST</span>","                    </div>","                </div>","                <div class=\"card-body\">","                    <div class=\"row\">","                        <div class=\"col-6 text-center\">","                            <p><strong>TITLE</strong></p>","                            <blockquote class=\"blockquote\">","                              <p class=\"mb-0\">{{ highest_voted_feature_request.title }}</p>","                              <footer class=\"blockquote-footer\"><cite title=\"Source Title\">{{ highest_voted_feature_request.creator }}</cite></footer>","                            </blockquote>","                        </div>","                        <div class=\"col-6 text-center\">","                            <p><strong>VOTES</strong></p>","                            <p class=\"mb-0\">{{ highest_voted_feature_request.upvotes }}</p>","                        </div>","                    </div>","                    ","                </div>","            </div>","        </div>","        <div class=\"col-xs-12 col-md-6\">","            <div class=\"card\">","                <div class=\"card-header\">","                    <div class=\"col-12 text-left\">","                        <span><i class=\"fas fa-chart-bar fa-lg page-icon\"></i>TOTAL TICKETS RAISED</span>","                    </div>","                </div>","                <div class=\"card-body\">","                    <canvas id=\"totalTickets\" width=\"400\" height=\"400\"></canvas>","                </div>","            </div>","        </div>","        {% if user.is_authenticated %}","        <div class=\"col-xs-12 col-md-6\">","            <div class=\"card\">","                <div class=\"card-header\">","                    <div class=\"col-12 text-left\">","                        <span><i class=\"fas fa-user-circle fa-lg page-icon\"></i>TICKETS YOU RAISED</span>","                    </div>","                </div>","                <div class=\"card-body\">","                    <canvas id=\"userTickets\" width=\"400\" height=\"400\"></canvas>","                </div>","            </div>","        </div>","        {% endif %}","    <!--</div>-->","    <!--<div class=\"row\">-->","        <div class=\"col-xs-12 col-md-6\">","            <div class=\"card\">","                <div class=\"card-header\">","                    <div class=\"col-12 text-left\">","                        <span><i class=\"fas fa-tasks fa-lg page-icon\"></i>TOTAL TICKETS BY STATUS</span>","                    </div>","                </div>","                <div class=\"card-body\">","                    <canvas id=\"statusTickets\" width=\"400\" height=\"400\"></canvas>","                </div>","            </div>","        </div>","    </div>","","{% endblock %} ","{% block jquery %}","<script>","    $(document).ready(function(){","        ","        var total_bugs = {{ total_bugs }}","        var total_feature_requests = {{ total_feature_requests }}","        var user_bugs = {{ user_bugs }}","        var user_feature_requests = {{ user_feature_requests }}","        var open_bugs = {{ open_bugs }}","        var in_progress_bugs = {{ in_progress_bugs }}","        var completed_bugs = {{ completed_bugs }}","        var open_feature_requests = {{ open_feature_requests }}","        var in_progress_feature_requests = {{ in_progress_feature_requests }}","        var completed_feature_requests = {{ completed_feature_requests }}","        ","        new Chart(document.getElementById(\"totalTickets\"), {","            type: 'doughnut',","            data: {","                labels: ['Bugs', 'Feature Requests'],","                datasets: [{","                    label: 'Number of tickets',","                    data: [total_bugs, total_feature_requests],","                    backgroundColor: [","                        'magenta',","                        '#2E353D',","                    ],","                    borderColor: [","                        'magenta',","                        '#2E353D',","                    ],","                    borderWidth: 1","                }]","            }","        });","        ","        new Chart(document.getElementById(\"statusTickets\"), {","            type: 'bar',","            data: {","                labels: [\"BACKLOG\", \"IN PROGRESS\", \"COMPLETE\"],","                datasets: [{","                    label: \"Bugs\",","                    backgroundColor: \"magenta\",","                    data: [open_bugs, in_progress_bugs, completed_bugs]","                }, {","                    label: \"Feature Requests\",","                    backgroundColor: \"#2E353D\",","                    data: [open_feature_requests, in_progress_feature_requests, completed_feature_requests]","                }]","            },","            options: {","                scales: {","                    yAxes: [{","                        ticks: {","                            beginAtZero: true,","                            min: 0","                        }","                    }]","                }","            }","        });","        ","        new Chart(document.getElementById(\"userTickets\"), {","            type: 'bar',","            data: {","                labels: [\"TICKETS\"],","                datasets: [{","                    label: \"Bugs\",","                    backgroundColor: \"magenta\",","                    data: [user_bugs]","                }, {","                    label: \"Feature Requests\",","                    backgroundColor: \"#2E353D\",","                    data: [user_feature_requests]","                }]","            },","            options: {","                scales: {","                    yAxes: [{","                        ticks: {","                            beginAtZero: true,","                            min: 0","                        }","                    }]","                }","            }","        });","    })","</script>","{% endblock %}"]}]]},"ace":{"folds":[],"scrolltop":2042,"scrollleft":0,"selection":{"start":{"row":180,"column":17},"end":{"row":180,"column":17},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":144,"state":"js-no_regex","mode":"ace/mode/html"}},"timestamp":1562322473394}